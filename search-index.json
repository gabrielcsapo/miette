[{"documents":[{"i":1,"t":"","u":"/miette/blog/archive","b":[]},{"i":2,"t":"","u":"/miette/docs/tags","b":[]},{"i":3,"t":"Getting started","u":"/miette/docs/intro","b":["Documentation"]}],"index":{"version":"2.3.9","fields":["t"],"fieldVectors":[["t/1",[]],["t/2",[]],["t/3",[0,0.539,1,0.539]]],"invertedIndex":[["get",{"_index":0,"t":{"3":{"position":[[0,7]]}}}],["start",{"_index":1,"t":{"3":{"position":[[8,7]]}}}]],"pipeline":["stemmer"]}},{"documents":[{"i":5,"t":"Getting Started","u":"/miette/docs/intro","h":"#getting-started-1","p":3},{"i":7,"t":"Instrument your functions","u":"/miette/docs/intro","h":"#instrument-your-functions","p":3},{"i":9,"t":"Contribute back!","u":"/miette/docs/intro","h":"#contribute-back","p":3}],"index":{"version":"2.3.9","fields":["t"],"fieldVectors":[["t/5",[0,0.981,1,0.981]],["t/7",[2,0.981,3,0.981]],["t/9",[4,0.981,5,0.981]]],"invertedIndex":[["back",{"_index":5,"t":{"9":{"position":[[11,5]]}}}],["contribut",{"_index":4,"t":{"9":{"position":[[0,10]]}}}],["function",{"_index":3,"t":{"7":{"position":[[16,9]]}}}],["get",{"_index":0,"t":{"5":{"position":[[0,7]]}}}],["instrument",{"_index":2,"t":{"7":{"position":[[0,10]]}}}],["start",{"_index":1,"t":{"5":{"position":[[8,7]]}}}]],"pipeline":["stemmer"]}},{"documents":[{"i":4,"t":"On this page","s":"Getting started","u":"/miette/docs/intro","h":"","p":3},{"i":6,"t":"Get started by installing Miette. npm install miette --save Copy","s":"Getting Started","u":"/miette/docs/intro","h":"#getting-started-1","p":3},{"i":8,"t":"Using miette you can make custom error objects that allow you to @miette(\"foo::bar::baz\", FooBarBaz.toString())class ShouldBeFalseError extends Error { diagnostic = { help: \"Please consult the guides at http://github.com/foo/bar#guides\", }; snippets = [ { context: \"if (true)\", highlight: \"This will always be called\", }, ];} function FooBarBaz() { // eslint-disable-next-line no-constant-condition if (true) { try { throw new ShouldBeFalseError(\"Should make things dynamic\"); } catch (error) { if (error instanceof Error) { console.log(error.stack); expect(error.stack).toMatchSnapshot(); } } }} FooBarBaz(); Copy The final output will look like the following! Error: ──── [foo::bar::baz] ────────────────────╰─▶ Should make things dynamic ╭───[miette.test.ts:23:21]0 │ function FooBarBaz() {1 │ // eslint-disable-next-line no-constant-condition2 │ if (true) { · ───────┬─ · ╰──This will always be called3 │ try {4 │ throw new ShouldBeFalseError(\"Should make things dynamic\");5 │ } catch (error) {6 │ if (error instanceof Error) {7 │ console.log(error.stack);9 │ }10 │ }11 │ } ‽ Please consult the guides at http://github.com/foo/bar#guides Copy","s":"Instrument your functions","u":"/miette/docs/intro","h":"#instrument-your-functions","p":3},{"i":10,"t":"Help improve Miette by opening up issues with your use cases of Miette and reproductions of errors that don't look as expected!","s":"Contribute back!","u":"/miette/docs/intro","h":"#contribute-back","p":3}],"index":{"version":"2.3.9","fields":["t"],"fieldVectors":[["t/4",[0,2.002]],["t/6",[1,1.786,2,2.133,3,0.632,4,1.786,5,1.786,6,1.028]],["t/8",[3,0.179,6,0.568,7,0.349,8,1.437,9,0.606,10,1.109,11,0.606,12,0.606,13,0.606,14,0.606,15,0.606,16,0.606,17,2.443,18,0.606,19,0.349,20,0.986,21,0.986,22,0.986,23,0.986,24,0.606,25,0.606,26,1.247,27,0.606,28,0.986,29,0.606,30,0.986,31,1.247,32,0.986,33,0.986,34,0.986,35,0.986,36,0.986,37,0.606,38,0.986,39,0.986,40,0.986,41,0.986,42,1.247,43,0.986,44,0.986,45,0.986,46,0.606,47,0.606,48,0.606,49,0.606,50,0.349,51,0.606,52,0.606,53,0.606,54,0.606,55,0.606,56,0.606,57,0.606,58,0.606,59,0.606,60,0.606,61,0.606,62,0.606,63,0.606]],["t/10",[3,0.599,7,0.941,10,0.941,19,0.941,50,0.941,64,1.634,65,1.634,66,1.634,67,1.634,68,1.634,69,1.634,70,1.634,71,1.634]]],"invertedIndex":[["",{"_index":17,"t":{"8":{"position":[[150,1],[163,1],[165,1],[238,2],[250,1],[252,1],[254,1],[319,2],[322,3],[347,1],[349,2],[409,1],[415,1],[477,1],[493,1],[523,1],[590,1],[592,1],[594,2],[669,4],[690,23],[769,1],[795,1],[797,2],[848,1],[860,1],[862,1],[864,9],[874,1],[907,1],[916,1],[979,1],[981,1],[1000,1],[1033,1],[1062,1],[1068,1],[1074,1],[1076,1],[1078,1]]}}}],["1",{"_index":54,"t":{"8":{"position":[[792,2]]}}}],["10",{"_index":62,"t":{"8":{"position":[[1064,3]]}}}],["11",{"_index":63,"t":{"8":{"position":[[1070,3]]}}}],["4",{"_index":57,"t":{"8":{"position":[[913,2]]}}}],["6",{"_index":59,"t":{"8":{"position":[[997,2]]}}}],["7",{"_index":60,"t":{"8":{"position":[[1030,2]]}}}],["allow",{"_index":12,"t":{"8":{"position":[[52,5]]}}}],["alway",{"_index":28,"t":{"8":{"position":[[300,6],[889,6]]}}}],["call",{"_index":29,"t":{"8":{"position":[[310,8]]}}}],["called3",{"_index":56,"t":{"8":{"position":[[899,7]]}}}],["case",{"_index":68,"t":{"10":{"position":[[55,5]]}}}],["catch",{"_index":44,"t":{"8":{"position":[[479,5],[983,5]]}}}],["condit",{"_index":37,"t":{"8":{"position":[[389,9]]}}}],["condition2",{"_index":55,"t":{"8":{"position":[[837,10]]}}}],["console.log(error.stack",{"_index":46,"t":{"8":{"position":[[525,25]]}}}],["console.log(error.stack);9",{"_index":61,"t":{"8":{"position":[[1035,26]]}}}],["constant",{"_index":36,"t":{"8":{"position":[[380,8],[828,8]]}}}],["consult",{"_index":21,"t":{"8":{"position":[[181,7],[1087,7]]}}}],["context",{"_index":25,"t":{"8":{"position":[[256,8]]}}}],["copi",{"_index":6,"t":{"6":{"position":[[60,4]]},"8":{"position":[[610,4],[1142,4]]}}}],["custom",{"_index":9,"t":{"8":{"position":[[26,6]]}}}],["diagnost",{"_index":18,"t":{"8":{"position":[[152,10]]}}}],["disabl",{"_index":33,"t":{"8":{"position":[[359,7],[807,7]]}}}],["don't",{"_index":70,"t":{"10":{"position":[[104,5]]}}}],["dynam",{"_index":43,"t":{"8":{"position":[[466,10],[733,7]]}}}],["dynamic\");5",{"_index":58,"t":{"8":{"position":[[967,11]]}}}],["error",{"_index":10,"t":{"8":{"position":[[33,5],[144,5],[485,7],[498,6],[516,6],[662,6],[989,7],[1005,6],[1023,6]]},"10":{"position":[[92,6]]}}}],["eslint",{"_index":32,"t":{"8":{"position":[[352,6],[800,6]]}}}],["expect",{"_index":71,"t":{"10":{"position":[[118,9]]}}}],["expect(error.stack).tomatchsnapshot",{"_index":47,"t":{"8":{"position":[[551,38]]}}}],["extend",{"_index":16,"t":{"8":{"position":[[136,7]]}}}],["final",{"_index":48,"t":{"8":{"position":[[619,5]]}}}],["follow",{"_index":51,"t":{"8":{"position":[[651,10]]}}}],["foo::bar::baz",{"_index":52,"t":{"8":{"position":[[674,15]]}}}],["foobarbaz",{"_index":31,"t":{"8":{"position":[[335,11],[597,12],[780,11]]}}}],["foobarbaz.tostring())class",{"_index":14,"t":{"8":{"position":[[90,26]]}}}],["function",{"_index":30,"t":{"8":{"position":[[326,8],[771,8]]}}}],["guid",{"_index":22,"t":{"8":{"position":[[193,6],[1099,6]]}}}],["help",{"_index":19,"t":{"8":{"position":[[167,5]]},"10":{"position":[[0,4]]}}}],["highlight",{"_index":27,"t":{"8":{"position":[[278,10]]}}}],["http://github.com/foo/bar#guid",{"_index":23,"t":{"8":{"position":[[203,34],[1109,32]]}}}],["improv",{"_index":64,"t":{"10":{"position":[[5,7]]}}}],["instal",{"_index":2,"t":{"6":{"position":[[15,10],[38,7]]}}}],["instanceof",{"_index":45,"t":{"8":{"position":[[505,10],[1012,10]]}}}],["issu",{"_index":67,"t":{"10":{"position":[[34,6]]}}}],["line",{"_index":35,"t":{"8":{"position":[[372,4],[820,4]]}}}],["look",{"_index":50,"t":{"8":{"position":[[637,4]]},"10":{"position":[[110,4]]}}}],["make",{"_index":8,"t":{"8":{"position":[[21,4],[454,4],[721,4],[955,4]]}}}],["miett",{"_index":3,"t":{"6":{"position":[[26,7],[46,6]]},"8":{"position":[[6,6]]},"10":{"position":[[13,6],[64,6]]}}}],["miette(\"foo::bar::baz",{"_index":13,"t":{"8":{"position":[[65,24]]}}}],["miette.test.ts:23:21]0",{"_index":53,"t":{"8":{"position":[[741,27]]}}}],["new",{"_index":40,"t":{"8":{"position":[[423,3],[924,3]]}}}],["next",{"_index":34,"t":{"8":{"position":[[367,4],[815,4]]}}}],["npm",{"_index":4,"t":{"6":{"position":[[34,3]]}}}],["object",{"_index":11,"t":{"8":{"position":[[39,7]]}}}],["open",{"_index":65,"t":{"10":{"position":[[23,7]]}}}],["output",{"_index":49,"t":{"8":{"position":[[625,6]]}}}],["page",{"_index":0,"t":{"4":{"position":[[8,4]]}}}],["pleas",{"_index":20,"t":{"8":{"position":[[173,7],[1080,6]]}}}],["reproduct",{"_index":69,"t":{"10":{"position":[[75,13]]}}}],["save",{"_index":5,"t":{"6":{"position":[[55,4]]}}}],["shouldbefalseerror",{"_index":15,"t":{"8":{"position":[[117,18]]}}}],["shouldbefalseerror(\"should",{"_index":41,"t":{"8":{"position":[[427,26],[928,26]]}}}],["snippet",{"_index":24,"t":{"8":{"position":[[241,8]]}}}],["start",{"_index":1,"t":{"6":{"position":[[4,7]]}}}],["thing",{"_index":42,"t":{"8":{"position":[[459,6],[726,6],[960,6]]}}}],["throw",{"_index":39,"t":{"8":{"position":[[417,5],[918,5]]}}}],["tri",{"_index":38,"t":{"8":{"position":[[411,3],[909,3]]}}}],["true",{"_index":26,"t":{"8":{"position":[[269,8],[402,6],[853,6]]}}}],["up",{"_index":66,"t":{"10":{"position":[[31,2]]}}}],["us",{"_index":7,"t":{"8":{"position":[[0,5]]},"10":{"position":[[51,3]]}}}]],"pipeline":["stemmer"]}}]