[{"documents":[{"i":1,"t":"","u":"/miette/blog/archive","b":[]},{"i":2,"t":"","u":"/miette/docs/tags","b":[]},{"i":3,"t":"Getting started","u":"/miette/docs/intro","b":["Documentation"]}],"index":{"version":"2.3.9","fields":["t"],"fieldVectors":[["t/1",[]],["t/2",[]],["t/3",[0,0.539,1,0.539]]],"invertedIndex":[["get",{"_index":0,"t":{"3":{"position":[[0,7]]}}}],["start",{"_index":1,"t":{"3":{"position":[[8,7]]}}}]],"pipeline":["stemmer"]}},{"documents":[{"i":5,"t":"Getting Started","u":"/miette/docs/intro","h":"#getting-started-1","p":3},{"i":7,"t":"Instrument your functions","u":"/miette/docs/intro","h":"#instrument-your-functions","p":3},{"i":9,"t":"Contribute back!","u":"/miette/docs/intro","h":"#contribute-back","p":3}],"index":{"version":"2.3.9","fields":["t"],"fieldVectors":[["t/5",[0,0.981,1,0.981]],["t/7",[2,0.981,3,0.981]],["t/9",[4,0.981,5,0.981]]],"invertedIndex":[["back",{"_index":5,"t":{"9":{"position":[[11,5]]}}}],["contribut",{"_index":4,"t":{"9":{"position":[[0,10]]}}}],["function",{"_index":3,"t":{"7":{"position":[[16,9]]}}}],["get",{"_index":0,"t":{"5":{"position":[[0,7]]}}}],["instrument",{"_index":2,"t":{"7":{"position":[[0,10]]}}}],["start",{"_index":1,"t":{"5":{"position":[[8,7]]}}}]],"pipeline":["stemmer"]}},{"documents":[{"i":4,"t":"On this page","s":"Getting started","u":"/miette/docs/intro","h":"","p":3},{"i":6,"t":"Get started by installing Miette. npm install miette --save Copy","s":"Getting Started","u":"/miette/docs/intro","h":"#getting-started-1","p":3},{"i":8,"t":"Using miette you can make custom error objects that allow you to @miette(\"foo::bar::baz\", FooBarBaz.toString())class ShouldBeFalseError extends Error { diagnostic = { help: \"Please consult the guides at http://github.com/foo/bar#guides\", }; snippets = [ { context: \"if (true)\", highlight: \"This will always be called\", }, ];} function FooBarBaz() { // eslint-disable-next-line no-constant-condition if (true) { try { throw new ShouldBeFalseError(\"Should make things dynamic\"); } catch (error) { if (error instanceof Error) { console.log(error.stack); expect(error.stack).toMatchSnapshot(); } } }} FooBarBaz(); Copy The final output will look like the following! Error: foo::bar::baz × Should make things dynamic ╭───[miette.test.ts:25:15] 0 │ function FooBarBaz() { 1 │ // eslint-disable-next-line no-constant-condition 2 │ if (true) { · ────┬──── · ╰── This will always be called 3 │ try { 4 │ throw new ShouldBeFalseError(\\\"Should make things dynamic\\\"); 5 │ } catch (error) { 6 │ if (error instanceof Error) { 7 │ console.log(error.stack); 8 │ expect(error.stack).toMatchSnapshot(); 9 │ } 10 │ } 11 │ } 12 │ } 13 │ ╰───‽ Please consult the guides at http://github.com/foo/bar#guides Copy","s":"Instrument your functions","u":"/miette/docs/intro","h":"#instrument-your-functions","p":3},{"i":10,"t":"Help improve Miette by opening up issues with your use cases of Miette and reproductions of errors that don't look as expected!","s":"Contribute back!","u":"/miette/docs/intro","h":"#contribute-back","p":3}],"index":{"version":"2.3.9","fields":["t"],"fieldVectors":[["t/4",[0,2.006]],["t/6",[1,1.81,2,2.15,3,0.637,4,1.81,5,1.81,6,1.042]],["t/8",[3,0.177,6,0.562,7,0.344,8,1.426,9,0.598,10,1.104,11,0.598,12,0.598,13,0.598,14,0.598,15,0.598,16,0.598,17,2.479,18,0.598,19,0.344,20,0.976,21,0.976,22,0.976,23,0.976,24,0.598,25,0.598,26,1.236,27,0.598,28,0.976,29,0.976,30,0.976,31,1.236,32,0.976,33,0.976,34,0.976,35,0.976,36,0.976,37,0.976,38,0.976,39,0.976,40,0.976,41,0.598,42,1.236,43,1.236,44,0.976,45,0.976,46,0.976,47,0.976,48,0.598,49,0.598,50,0.344,51,0.598,52,0.598,53,0.598,54,0.598,55,0.598,56,0.598,57,0.598,58,0.598,59,0.598,60,0.598,61,0.598,62,0.598,63,0.598,64,0.598,65,0.598,66,0.598,67,0.598,68,0.598]],["t/10",[3,0.607,7,0.961,10,0.961,19,0.961,50,0.961,69,1.67,70,1.67,71,1.67,72,1.67,73,1.67,74,1.67,75,1.67,76,1.67]]],"invertedIndex":[["",{"_index":17,"t":{"8":{"position":[[150,1],[163,1],[165,1],[238,2],[250,1],[252,1],[254,1],[319,2],[322,3],[347,1],[349,2],[409,1],[415,1],[477,1],[493,1],[523,1],[590,1],[592,1],[594,2],[683,1],[741,1],[764,1],[768,1],[770,2],[822,1],[834,1],[836,1],[838,9],[848,1],[850,3],[883,1],[889,1],[893,1],[959,1],[961,1],[977,1],[981,1],[1011,1],[1015,1],[1045,1],[1088,1],[1090,1],[1095,1],[1097,1],[1102,1],[1104,1],[1109,1],[1111,1],[1116,1],[1118,5]]}}}],["0",{"_index":54,"t":{"8":{"position":[[739,1]]}}}],["1",{"_index":55,"t":{"8":{"position":[[766,1]]}}}],["10",{"_index":65,"t":{"8":{"position":[[1092,2]]}}}],["11",{"_index":66,"t":{"8":{"position":[[1099,2]]}}}],["12",{"_index":67,"t":{"8":{"position":[[1106,2]]}}}],["13",{"_index":68,"t":{"8":{"position":[[1113,2]]}}}],["2",{"_index":56,"t":{"8":{"position":[[820,1]]}}}],["3",{"_index":57,"t":{"8":{"position":[[881,1]]}}}],["4",{"_index":58,"t":{"8":{"position":[[891,1]]}}}],["5",{"_index":60,"t":{"8":{"position":[[957,1]]}}}],["6",{"_index":61,"t":{"8":{"position":[[979,1]]}}}],["7",{"_index":62,"t":{"8":{"position":[[1013,1]]}}}],["8",{"_index":63,"t":{"8":{"position":[[1043,1]]}}}],["9",{"_index":64,"t":{"8":{"position":[[1086,1]]}}}],["allow",{"_index":12,"t":{"8":{"position":[[52,5]]}}}],["alway",{"_index":28,"t":{"8":{"position":[[300,6],[864,6]]}}}],["call",{"_index":29,"t":{"8":{"position":[[310,8],[874,6]]}}}],["case",{"_index":73,"t":{"10":{"position":[[55,5]]}}}],["catch",{"_index":44,"t":{"8":{"position":[[479,5],[963,5]]}}}],["condit",{"_index":37,"t":{"8":{"position":[[389,9],[810,9]]}}}],["console.log(error.stack",{"_index":46,"t":{"8":{"position":[[525,25],[1017,25]]}}}],["constant",{"_index":36,"t":{"8":{"position":[[380,8],[801,8]]}}}],["consult",{"_index":21,"t":{"8":{"position":[[181,7],[1131,7]]}}}],["context",{"_index":25,"t":{"8":{"position":[[256,8]]}}}],["copi",{"_index":6,"t":{"6":{"position":[[60,4]]},"8":{"position":[[610,4],[1186,4]]}}}],["custom",{"_index":9,"t":{"8":{"position":[[26,6]]}}}],["diagnost",{"_index":18,"t":{"8":{"position":[[152,10]]}}}],["disabl",{"_index":33,"t":{"8":{"position":[[359,7],[780,7]]}}}],["don't",{"_index":75,"t":{"10":{"position":[[104,5]]}}}],["dynam",{"_index":43,"t":{"8":{"position":[[466,10],[704,7],[945,11]]}}}],["error",{"_index":10,"t":{"8":{"position":[[33,5],[144,5],[485,7],[498,6],[516,6],[662,6],[969,7],[986,6],[1004,6]]},"10":{"position":[[92,6]]}}}],["eslint",{"_index":32,"t":{"8":{"position":[[352,6],[773,6]]}}}],["expect",{"_index":76,"t":{"10":{"position":[[118,9]]}}}],["expect(error.stack).tomatchsnapshot",{"_index":47,"t":{"8":{"position":[[551,38],[1047,38]]}}}],["extend",{"_index":16,"t":{"8":{"position":[[136,7]]}}}],["final",{"_index":48,"t":{"8":{"position":[[619,5]]}}}],["follow",{"_index":51,"t":{"8":{"position":[[651,10]]}}}],["foo::bar::baz",{"_index":52,"t":{"8":{"position":[[669,13]]}}}],["foobarbaz",{"_index":31,"t":{"8":{"position":[[335,11],[597,12],[752,11]]}}}],["foobarbaz.tostring())class",{"_index":14,"t":{"8":{"position":[[90,26]]}}}],["function",{"_index":30,"t":{"8":{"position":[[326,8],[743,8]]}}}],["guid",{"_index":22,"t":{"8":{"position":[[193,6],[1143,6]]}}}],["help",{"_index":19,"t":{"8":{"position":[[167,5]]},"10":{"position":[[0,4]]}}}],["highlight",{"_index":27,"t":{"8":{"position":[[278,10]]}}}],["http://github.com/foo/bar#guid",{"_index":23,"t":{"8":{"position":[[203,34],[1153,32]]}}}],["improv",{"_index":69,"t":{"10":{"position":[[5,7]]}}}],["instal",{"_index":2,"t":{"6":{"position":[[15,10],[38,7]]}}}],["instanceof",{"_index":45,"t":{"8":{"position":[[505,10],[993,10]]}}}],["issu",{"_index":72,"t":{"10":{"position":[[34,6]]}}}],["line",{"_index":35,"t":{"8":{"position":[[372,4],[793,4]]}}}],["look",{"_index":50,"t":{"8":{"position":[[637,4]]},"10":{"position":[[110,4]]}}}],["make",{"_index":8,"t":{"8":{"position":[[21,4],[454,4],[692,4],[933,4]]}}}],["miett",{"_index":3,"t":{"6":{"position":[[26,7],[46,6]]},"8":{"position":[[6,6]]},"10":{"position":[[13,6],[64,6]]}}}],["miette(\"foo::bar::baz",{"_index":13,"t":{"8":{"position":[[65,24]]}}}],["miette.test.ts:25:15",{"_index":53,"t":{"8":{"position":[[712,26]]}}}],["new",{"_index":40,"t":{"8":{"position":[[423,3],[901,3]]}}}],["next",{"_index":34,"t":{"8":{"position":[[367,4],[788,4]]}}}],["npm",{"_index":4,"t":{"6":{"position":[[34,3]]}}}],["object",{"_index":11,"t":{"8":{"position":[[39,7]]}}}],["open",{"_index":70,"t":{"10":{"position":[[23,7]]}}}],["output",{"_index":49,"t":{"8":{"position":[[625,6]]}}}],["page",{"_index":0,"t":{"4":{"position":[[8,4]]}}}],["pleas",{"_index":20,"t":{"8":{"position":[[173,7],[1124,6]]}}}],["reproduct",{"_index":74,"t":{"10":{"position":[[75,13]]}}}],["save",{"_index":5,"t":{"6":{"position":[[55,4]]}}}],["shouldbefalseerror",{"_index":15,"t":{"8":{"position":[[117,18]]}}}],["shouldbefalseerror(\"should",{"_index":41,"t":{"8":{"position":[[427,26]]}}}],["shouldbefalseerror(\\\"should",{"_index":59,"t":{"8":{"position":[[905,27]]}}}],["snippet",{"_index":24,"t":{"8":{"position":[[241,8]]}}}],["start",{"_index":1,"t":{"6":{"position":[[4,7]]}}}],["thing",{"_index":42,"t":{"8":{"position":[[459,6],[697,6],[938,6]]}}}],["throw",{"_index":39,"t":{"8":{"position":[[417,5],[895,5]]}}}],["tri",{"_index":38,"t":{"8":{"position":[[411,3],[885,3]]}}}],["true",{"_index":26,"t":{"8":{"position":[[269,8],[402,6],[827,6]]}}}],["up",{"_index":71,"t":{"10":{"position":[[31,2]]}}}],["us",{"_index":7,"t":{"8":{"position":[[0,5]]},"10":{"position":[[51,3]]}}}]],"pipeline":["stemmer"]}}]